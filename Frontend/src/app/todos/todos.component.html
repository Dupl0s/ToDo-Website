<div class="container-fluid">
    <h1>Projekt</h1>
    <button (click)="openPopup('ToDo hinzuf체gen', 'F체gen Sie Ihr geplantes ToDo hinzu')">ToDo Hinzuf체gen</button>
    <app-popup (closed)="onPopupClosed()"></app-popup>
    <!--<div class="row">
        @for (todo of sortedTodos(); track todo.id) {
        <div class="col-md-4 mb-3">
            <div [appHighlightDoneTodos]="todo.completed" class="card h-100">
                <div class="card-body d-flex flex-column">
                    <app-todoitem [todo]="todo" />
                    <div class="btn-toolbar" role="toolbar">
                        <button (click)="toggleCompleted(todo)" class="btn btn-primary" type="button">
                            <img src="assets/check_circle.svg" alt="Done">
                        </button>
                        <button class="delete btn-primary" (click)="deleteTodo(todo.id)">
                            <img src="assets/delete.svg" alt="Remove">
                        </button>
                    </div>
                </div>
            </div>
        </div>
        }
    </div> -->
    <div class="todos-container">

        @for (item of arrayTodos; track arrayTodos.length) {
        <div class="arraycard" [ngClass]="{'done': item.completed}">
            <h4 class="card-title">{{item.title}}</h4>
            <p class="card-text flex-grow-1">Deadline: {{item.deadline}}</p>
            <p class="card-text flex-grow-1">Schwierigkeit: {{item.niveau}}</p>
            <p class="card-text flex-grow-1">Priorit채t: {{item.importance}}</p>
            <div class="btn-toolbar" role="toolbar">
                <button class="btn btn-primary" (click)="markDoneArrayToDo(item.id)" type="button">
                    <img src="assets/check_circle.svg" alt="Done">
                </button>
                <button (click)="openEdit('Todo editieren: '+ item.title, item)">
                    <img src="assets/edit.svg" alt="Edit">
                </button>
                <button (click)="deleteArrayTodo(item.id)">
                    <img src="assets/delete.svg" alt="Remove">
                </button>
            </div>
        </div>
        } @empty {
    <div>
        <div class="no-todos">
            <h5>Keine Todos angelegt!</h5>
        </div>
        @if(!sortedTodos.length){
            <div class="card" aria-hidden="true">
            <img src="..." class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title placeholder-glow">
                    <span class="placeholder col-6"></span>
                </h5>
                <p class="card-text placeholder-glow">
                    <span class="placeholder col-7"></span>
                    <span class="placeholder col-4"></span>
                    <span class="placeholder col-4"></span>
                    <span class="placeholder col-6"></span>
                    <span class="placeholder col-8"></span>
                </p>
                <a class="btn btn-primary disabled placeholder col-6" aria-disabled="true"></a>
            </div>
        </div>
        }
    </div>    
        }
    </div>
</div>